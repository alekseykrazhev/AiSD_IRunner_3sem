мы делаем 2 обхода дерева (прямой и обратный)
во время обратного обхода мы считаем высоты вершин и определяем длину наибольшего полупути (как в презентации). также определяем количество листьев, которые лежат на пути из этой вершины на расстоянии ее высоты
после, в прямом обходе считаем сколько полупутей наибольшей длины проходит через каждую вершину (для этого используем количество листьев и метки: 
b - число попарно различных полупутей наиб длины, для которых эта вершина - корень
a - также число попарно разл полупутей наиб длины, но которые приходят в вершину сверху от отца
с - сумма a и b - число всех полупутей наиб длины, проходящих через данную вершину)
 и сохраняем вершины, через которые проходит четное количество
затем находим среднюю из них и удаляем (если таких вершин нечетное количество)